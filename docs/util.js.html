<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: util.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: util.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const pascalToKebab = str => str[0].toLowerCase() + str.slice(1, str.length).replace(/[A-Z0-9]/g, letter => `-${letter.toLowerCase()}`);

const kebabToCamel = str => str[0].toLowerCase() + str.slice(1, str.length).replace(/-([a-z0-9])/g, letter => `${letter[1].toUpperCase()}`);

/**
 * Returns the permutations of an array for all combinations and lengths
 * @param {*} arr 
 */
const permutations = (arr, toString=false) => {
    // Group each chunk of permutations of each length
    // ie. group all the length-1 permutations, and the length-2 permutations, etc...
    let chunks = {};

    // Add the initial array (length-1 permutations)
    chunks[1] = arr.map(item => [item]);

    // Add the permutations from length-2 to the full length of the initial array
    for (let targetLen = 2; targetLen &lt;= arr.length; targetLen++) {
        let newChunk = [];

        // Go through each permutation of the previous length
        // and each value in the initial array
        // If the permutation does not contain the current loop value then make a new permutation
        // with the old permutation and the current loop value
        for (let permutation of chunks[targetLen - 1]) {
            for (let item of arr) {
                if (permutation.includes(item)) continue;
                newChunk.push([ item, ...permutation ]);
            }
        }

        chunks[targetLen] = newChunk;
    }

    let results = Object.values(chunks);

    // If we want the results as a flat list of strings (which we probably do)
    // Then do it...
    if (toString) {
        let formattedResults = [];
        for (let group of results) {
            for (let permutation of group) {
                formattedResults.push(permutation.join(''));
            }
        }

        return formattedResults;
    }

    return results;
};

/**
 * Parses a duration string and returns the time in milliseconds
 * Durations are in the form: ${duration: number}${unit: string}
 * EG.
 * 5ms => 5 milliseconds
 * 30s => 30 seconds
 * 5m => 5 minutes
 * 2h => 2 hours
 * @param {string} duration A string duration
 */
const parseDuration = (duration) => {
    const [_, interval, unit] = /(\d+)(\w+)/.exec(duration);

    // Calculate the duration in milliseconds
    // Supported units are:
    // ms: milliseconds
    // s: seconds
    // m: minutes
    // h: hours
    let timeout = 0;
    switch (unit) {
        case 'ms':
            timeout = interval;
            break;
        case 's':
            timeout = interval * 1000;
            break;
        case 'm':
            timeout = interval * 1000 * 60;
            break;
        case 'h':
            timeout = interval * 1000 * 60 * 60;
            break;
    }

    return timeout;
};

// Allows defining template literals with syntax highlighting
const template = (strings, ...values) => {
    return strings.reduce((acc, str, i) => {
        return acc + str + (values[i] || '');
    }, '');
};


// Parse a string as a boolean
// Falsey values are
// "" (empty string)
// 0 or "0"
// false or "false"
const parseBoolean = (value) => {
    if (!value || value == "" || value == "0" || value.toLowerCase() == "false") {
        return false;
    }

    return true;
};


export {
    pascalToKebab,
    kebabToCamel,
    permutations,
    parseDuration,
    template as html,
    template as css,
    parseBoolean,
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="Controller.html">Controller</a></li><li><a href="DynamicFrame.html">DynamicFrame</a></li></ul><h3>Classes</h3><ul><li><a href="makeController-CoreController.html">CoreController</a></li></ul><h3>Global</h3><ul><li><a href="global.html#makeController">makeController</a></li><li><a href="global.html#parseDuration">parseDuration</a></li><li><a href="global.html#permutations">permutations</a></li><li><a href="global.html#registerControllers">registerControllers</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Tue Apr 12 2022 22:48:41 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
